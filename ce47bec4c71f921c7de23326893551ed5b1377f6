{
  "comments": [
    {
      "key": {
        "uuid": "b9ec18cf_964652d0",
        "filename": "runtime/arch/arm/context_arm.h",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-06-04T08:55:26Z",
      "side": 1,
      "message": "Not sure about the abstraction here. Isn\u0027t it really SetArtMethod?\n\nSetArg0 seems like there is a generic ABI for all platforms.",
      "range": {
        "startLine": 48,
        "startChar": 7,
        "endLine": 48,
        "endChar": 14
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f955b039_76c0e9be",
        "filename": "runtime/arch/arm/context_arm.h",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-06-04T14:54:40Z",
      "side": 1,
      "message": "Context doesn\u0027t know what registers are ABI and supposed to hold methods and so on, so I let the QuickExceptionHandler know and handle it.\n\nAnd yes, SetArg0 is generic - as the register is platform-dependent and it would be the Context\u0027s job (or something else arch-specific) to map it.",
      "parentUuid": "b9ec18cf_964652d0",
      "range": {
        "startLine": 48,
        "startChar": 7,
        "endLine": 48,
        "endChar": 14
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9f1cca3_e2826e82",
        "filename": "runtime/arch/arm/context_arm.h",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-06-04T15:36:53Z",
      "side": 1,
      "message": "Yeah, but was is arg0 really? Is that the c++ abi arg0? the art abi arg0? But then the actual argument or the method?\n\nHence the suggestion to use SetArtMethod which makes it pretty clear.",
      "parentUuid": "f955b039_76c0e9be",
      "range": {
        "startLine": 48,
        "startChar": 7,
        "endLine": 48,
        "endChar": 14
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9f1cca3_97c76e85",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 1
      },
      "lineNbr": 645,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-06-04T08:55:26Z",
      "side": 1,
      "message": "How about if (IsSingleFrameDeopt()) { ...\n\nThen you wouldn\u0027t need the comment below.",
      "range": {
        "startLine": 645,
        "startChar": 0,
        "endLine": 645,
        "endChar": 31
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d96c6c17_0c9d20b6",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 1
      },
      "lineNbr": 645,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-06-04T14:54:40Z",
      "side": 1,
      "message": "So if (IsSingleFrameDeopt(self)) or something like that? I don\u0027t think it makes sense to do IsSingleFrameDeopt(deopt_frame).",
      "parentUuid": "d9f1cca3_97c76e85",
      "range": {
        "startLine": 645,
        "startChar": 0,
        "endLine": 645,
        "endChar": 31
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99fbd485_7bd10bc5",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 1
      },
      "lineNbr": 645,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-06-04T15:36:53Z",
      "side": 1,
      "message": "Oh I didn\u0027t realize the deopt frame was on the thread, I though it was on this object. Nevermind then.",
      "parentUuid": "d96c6c17_0c9d20b6",
      "range": {
        "startLine": 645,
        "startChar": 0,
        "endLine": 645,
        "endChar": 31
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99fbd485_b5a4223f",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 1
      },
      "lineNbr": 659,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-06-04T08:55:26Z",
      "side": 1,
      "message": "This is very scary. Why is there an alloca? Why can\u0027t the deopt_frame be enough?",
      "range": {
        "startLine": 657,
        "startChar": 0,
        "endLine": 659,
        "endChar": 57
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f955b039_36b6717c",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 1
      },
      "lineNbr": 659,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-06-04T14:54:40Z",
      "side": 1,
      "message": "Because that\u0027s how normal interpreter transitions look like. I don\u0027t think this is technically required, but it felt the right thing to move back to a unified stack after deopt.",
      "parentUuid": "99fbd485_b5a4223f",
      "range": {
        "startLine": 657,
        "startChar": 0,
        "endLine": 659,
        "endChar": 57
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9f1cca3_826d6a7f",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 1
      },
      "lineNbr": 659,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-06-04T15:36:53Z",
      "side": 1,
      "message": "I understand the unified statement, it\u0027s more the magic that you\u0027re pushing the frame on the C stack. But I can see it\u0027d done below, so nevermind.",
      "parentUuid": "f955b039_36b6717c",
      "range": {
        "startLine": 657,
        "startChar": 0,
        "endLine": 659,
        "endChar": 57
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "193e044a_a91e851d",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 1
      },
      "lineNbr": 659,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-06-10T01:23:58Z",
      "side": 1,
      "message": "I actually can\u0027t do that anyways. Single managed frame !\u003d single shadow frame, actually, doh. Inlining will force to have multiple shadow frames, and they\u0027ll have to live on the heap anyways. I\u0027ll have to use the same loop that full-stack deopt uses.",
      "parentUuid": "d9f1cca3_826d6a7f",
      "range": {
        "startLine": 657,
        "startChar": 0,
        "endLine": 659,
        "endChar": 57
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99fbd485_95a1262f",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 1
      },
      "lineNbr": 669,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-06-04T08:55:26Z",
      "side": 1,
      "message": "Do you plan on keeping this?",
      "range": {
        "startLine": 669,
        "startChar": 8,
        "endLine": 669,
        "endChar": 38
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f923f0e9_7692bedb",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 1
      },
      "lineNbr": 669,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-06-04T14:54:40Z",
      "side": 1,
      "message": "Yes, except if you think that it should be part of VLOG(deopt) (which currently only dumps the stack before deopt).",
      "parentUuid": "99fbd485_95a1262f",
      "range": {
        "startLine": 669,
        "startChar": 8,
        "endLine": 669,
        "endChar": 38
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9f1cca3_a273465e",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 1
      },
      "lineNbr": 669,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-06-04T15:36:53Z",
      "side": 1,
      "message": "Yeah, I think VLOG(deopt) is good enough.",
      "parentUuid": "f923f0e9_7692bedb",
      "range": {
        "startLine": 669,
        "startChar": 8,
        "endLine": 669,
        "endChar": 38
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d96c6c17_71790ff4",
        "filename": "runtime/quick_exception_handler.cc",
        "patchSetId": 1
      },
      "lineNbr": 326,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-06-04T03:44:00Z",
      "side": 1,
      "message": "Can probably be unified with the full-deopt visitor, but for quick changes and so on it seemed easier this way.",
      "range": {
        "startLine": 326,
        "startChar": 0,
        "endLine": 326,
        "endChar": 69
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9f1cca3_d7d1f641",
        "filename": "runtime/quick_exception_handler.cc",
        "patchSetId": 1
      },
      "lineNbr": 326,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-06-04T08:55:26Z",
      "side": 1,
      "message": "I don\u0027t think it\u0027s too crazy thinking to unify it before submitting?",
      "parentUuid": "d96c6c17_71790ff4",
      "range": {
        "startLine": 326,
        "startChar": 0,
        "endLine": 326,
        "endChar": 69
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d96c6c17_6c7934f4",
        "filename": "runtime/quick_exception_handler.cc",
        "patchSetId": 1
      },
      "lineNbr": 326,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-06-04T14:54:40Z",
      "side": 1,
      "message": "As mentioned, this is early work and more for people to look at and give early critique than review it.",
      "parentUuid": "d9f1cca3_d7d1f641",
      "range": {
        "startLine": 326,
        "startChar": 0,
        "endLine": 326,
        "endChar": 69
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d96c6c17_31a037ef",
        "filename": "runtime/quick_exception_handler.cc",
        "patchSetId": 1
      },
      "lineNbr": 536,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-06-04T03:44:00Z",
      "side": 1,
      "message": "Alternative for this is another entrypoint that \"wraps\" the interpreter bridge and does the stack update transparently (so is a nop for arm). Or just not re-use the bridge at all...",
      "range": {
        "startLine": 533,
        "startChar": 0,
        "endLine": 536,
        "endChar": 6
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d96c6c17_119d3bb6",
        "filename": "runtime/quick_exception_handler.cc",
        "patchSetId": 1
      },
      "lineNbr": 602,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-06-04T03:44:00Z",
      "side": 1,
      "message": "Could have delegated this further, but it seemed to weird to have \"smash_except_arg0.\"",
      "range": {
        "startLine": 600,
        "startChar": 2,
        "endLine": 602,
        "endChar": 3
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f955b039_16ec0d04",
        "filename": "runtime/quick_exception_handler.h",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-06-04T03:44:00Z",
      "side": 1,
      "message": "This is special-purposed because it\u0027s only for debugging - I didn\u0027t want to play in the regular StackDumpVisitor which is quite heavyweight (for lock dumping etc.).",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 93,
        "endChar": 91
      },
      "revId": "ce47bec4c71f921c7de23326893551ed5b1377f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
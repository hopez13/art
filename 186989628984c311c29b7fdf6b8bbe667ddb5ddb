{
  "comments": [
    {
      "key": {
        "uuid": "287962ff_0a29f098",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2020-03-13T16:28:08Z",
      "side": 1,
      "message": "Same as for libcrypto - should we export this?",
      "range": {
        "startLine": 24,
        "startChar": 9,
        "endLine": 24,
        "endChar": 15
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fda27882_1230ceac",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2020-03-13T16:59:01Z",
      "side": 1,
      "message": "If we don\u0027t export it then conscrypt won\u0027t build.",
      "parentUuid": "287962ff_0a29f098",
      "range": {
        "startLine": 24,
        "startChar": 9,
        "endLine": 24,
        "endChar": 15
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7de8d134_0c227da9",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2020-04-17T12:13:20Z",
      "side": 1,
      "message": "Removed as external/boringssl is shared between ART and conscrypt.",
      "parentUuid": "fda27882_1230ceac",
      "range": {
        "startLine": 24,
        "startChar": 9,
        "endLine": 24,
        "endChar": 15
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0b2fd7bd_2f50d623",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-03-13T15:16:12Z",
      "side": 1,
      "message": "I don\u0027t think all of these have stubs. Only libraries that have stubs should be in that list. libartpalette should definitely not go in there.",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 31,
        "endChar": 21
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d27960ad_0abfd35a",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2020-03-13T16:28:08Z",
      "side": 1,
      "message": "libartbase, libartpalette and libdexfile shouldn\u0027t be in the SDK, but libdexfile_external, libnative*, and several others should. Is listing all these internal libs related to the issue with transitive deps discussed in https://r.android.com/c/platform/build/soong/+/1254006/5/android/sdk.go#196?",
      "parentUuid": "0b2fd7bd_2f50d623",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 31,
        "endChar": 21
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9418fcd6_e93f08e2",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2020-03-13T16:59:01Z",
      "side": 1,
      "message": "If we don\u0027t export them then conscrypt won\u0027t build. Internal sdk members are not accessible from outside the sdk, that\u0027s what makes them internal members.",
      "parentUuid": "d27960ad_0abfd35a",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 31,
        "endChar": 21
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b38740e9_2a3a428c",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2020-04-17T12:13:20Z",
      "side": 1,
      "message": "Removed as external/boringssl is shared between ART and conscrypt.",
      "parentUuid": "9418fcd6_e93f08e2",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 31,
        "endChar": 21
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "028a5072_79ebdb7f",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-03-13T15:16:12Z",
      "side": 1,
      "message": "libcrypto isn\u0027t something ART offers to other modules. I think you\u0027ll need conscrypt manifest to have it too.",
      "range": {
        "startLine": 34,
        "startChar": 9,
        "endLine": 34,
        "endChar": 25
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d3e1056d_5fc4e6ea",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2020-03-13T16:59:01Z",
      "side": 1,
      "message": "If we don\u0027t export it then conscrypt won\u0027t build.",
      "parentUuid": "028a5072_79ebdb7f",
      "range": {
        "startLine": 34,
        "startChar": 9,
        "endLine": 34,
        "endChar": 25
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2aba7c6d_c60e75e5",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2020-04-17T12:13:20Z",
      "side": 1,
      "message": "Removed as external/boringssl is shared between ART and conscrypt.",
      "parentUuid": "d3e1056d_5fc4e6ea",
      "range": {
        "startLine": 34,
        "startChar": 9,
        "endLine": 34,
        "endChar": 25
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56e08e2c_3b570cf9",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-03-13T15:16:12Z",
      "side": 1,
      "message": "Why is that on ART to export?",
      "range": {
        "startLine": 58,
        "startChar": 17,
        "endLine": 58,
        "endChar": 36
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd6198cf_f685719b",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2020-03-13T16:59:01Z",
      "side": 1,
      "message": "Because it is in external/boringssl which is part of ART module.",
      "parentUuid": "56e08e2c_3b570cf9",
      "range": {
        "startLine": 58,
        "startChar": 17,
        "endLine": 58,
        "endChar": 36
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d3cfba4_15fb383f",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2020-03-16T16:55:08Z",
      "side": 1,
      "message": "This test is run early on boot to avoid the FIPS check on every boringssl lib load, so my guess is it\u0027s necessary here to get into the system image. If that\u0027s correct then what\u0027s the plan to deal with it in the updatable future? Can the test be in the boot image if the lib isn\u0027t?",
      "parentUuid": "cd6198cf_f685719b",
      "range": {
        "startLine": 58,
        "startChar": 17,
        "endLine": 58,
        "endChar": 36
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7639bc10_a9147c63",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1334152
      },
      "writtenOn": "2020-03-17T15:04:59Z",
      "side": 1,
      "message": "Note that if you\u0027re planning to run a boringssl_self_test for the art apex, you\u0027ll also need init and sepolicy changes.  See b/151141564",
      "parentUuid": "4d3cfba4_15fb383f",
      "range": {
        "startLine": 58,
        "startChar": 17,
        "endLine": 58,
        "endChar": 36
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bffa91ad_35cc2658",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2020-03-17T15:24:29Z",
      "side": 1,
      "message": "From an SDK perspective, doesn\u0027t that mean that boringssl_self_test should be provided by a Conscrypt module export instead?",
      "parentUuid": "7639bc10_a9147c63",
      "range": {
        "startLine": 58,
        "startChar": 17,
        "endLine": 58,
        "endChar": 36
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68de77c8_9054d41e",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2020-03-17T16:00:10Z",
      "side": 1,
      "message": "That would require external/boringssl to be part of the Conscrypt module and it is currently part of the ART module. I don\u0027t know why there is the split but I presume that there is a good reason for it.",
      "parentUuid": "bffa91ad_35cc2658",
      "range": {
        "startLine": 58,
        "startChar": 17,
        "endLine": 58,
        "endChar": 36
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "146070c8_bec0191b",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-03-17T16:03:45Z",
      "side": 1,
      "message": "Can you double check? I don\u0027t see boringssl in the list of .so of ART module. On the other hand, conscrypt module has libssl.so.",
      "parentUuid": "68de77c8_9054d41e",
      "range": {
        "startLine": 58,
        "startChar": 17,
        "endLine": 58,
        "endChar": 36
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30c79b5e_8ea02cfc",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1334152
      },
      "writtenOn": "2020-03-17T16:16:24Z",
      "side": 1,
      "message": "I\u0027m not completely following the logic here, but boringssl provides these libs:\n* libcrypto is used in several modules (ART, Conscrypt, Media, resolv) and /system and /vendor.  This is the library that boringssl_self_test tests.\n* libssl is also used in a few places (/system and Conscrypt at least)\n\nSo maybe from an SDK perspective we need a boringssl SDK? (I don\u0027t really know, just thinking out loud)",
      "parentUuid": "146070c8_bec0191b",
      "range": {
        "startLine": 58,
        "startChar": 17,
        "endLine": 58,
        "endChar": 36
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94ccaccd_0fdeabf0",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-03-17T16:18:23Z",
      "side": 1,
      "message": "Right, Paul this means that boringssl *is* part of the conscrypt module (as having its own copy).",
      "parentUuid": "30c79b5e_8ea02cfc",
      "range": {
        "startLine": 58,
        "startChar": 17,
        "endLine": 58,
        "endChar": 36
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af15ed59_b044e7e2",
        "filename": "build/sdk/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2020-04-17T12:13:20Z",
      "side": 1,
      "message": "Removed as external/boringssl is shared between ART and conscrypt.",
      "parentUuid": "94ccaccd_0fdeabf0",
      "range": {
        "startLine": 58,
        "startChar": 17,
        "endLine": 58,
        "endChar": 36
      },
      "revId": "186989628984c311c29b7fdf6b8bbe667ddb5ddb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a375b6a5_3898b015",
        "filename": "odrefresh/odr_metrics.cc",
        "patchSetId": 4
      },
      "lineNbr": 144,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2022-06-09T14:35:31Z",
      "side": 1,
      "message": "I think it\u0027d be better to have these be part of a single statement, so that both pieces of information are emitted on the same logcat line. As the logcat is shared by all Android processes, two (independently) emitted errors could potentially be separated by other log lines from other processes/threads in the logcat output.",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 144,
        "endChar": 43
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dfc1d907_3b5c3560",
        "filename": "odrefresh/odr_metrics.cc",
        "patchSetId": 4
      },
      "lineNbr": 144,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2022-06-09T15:15:43Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a375b6a5_3898b015",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 144,
        "endChar": 43
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1f21deb2_50e377fd",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 61,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2022-06-09T14:35:31Z",
      "side": 1,
      "message": "Nit: This can fit on a single line.",
      "range": {
        "startLine": 59,
        "startChar": 0,
        "endLine": 61,
        "endChar": 32
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "21a793b3_aa8a597a",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 61,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2022-06-09T15:15:43Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "1f21deb2_50e377fd",
      "range": {
        "startLine": 59,
        "startChar": 0,
        "endLine": 61,
        "endChar": 32
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5d0c84b8_b9b1c51c",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 61,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2022-06-09T15:19:43Z",
      "side": 1,
      "message": "Personally, I prefer using clang-format to deal with code formatting automatically. You can run `git add .` and then `git clang-format` to format the file before `git commit`.",
      "parentUuid": "21a793b3_aa8a597a",
      "range": {
        "startLine": 59,
        "startChar": 0,
        "endLine": 61,
        "endChar": 32
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5eb78b81_402ef4a8",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 79,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2022-06-09T14:35:31Z",
      "side": 1,
      "message": "Nit: This can fit on a single (100-character) line.",
      "range": {
        "startLine": 78,
        "startChar": 0,
        "endLine": 79,
        "endChar": 55
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "73a9521a_08203bcf",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 79,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2022-06-09T15:15:43Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5eb78b81_402ef4a8",
      "range": {
        "startLine": 78,
        "startChar": 0,
        "endLine": 79,
        "endChar": 55
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "581057a8_192df205",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 79,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2022-06-09T15:22:53Z",
      "side": 1,
      "message": "Small tip: We usually upload a patchset and then reply \"Done\" rather than \"Ack\". Personally, I interpret \"Ack\" as \"I see your comment but I\u0027m not going to do it for some reason\" :)",
      "parentUuid": "73a9521a_08203bcf",
      "range": {
        "startLine": 78,
        "startChar": 0,
        "endLine": 79,
        "endChar": 55
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad8ff7f0_6ff62174",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 93,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2022-06-09T14:35:31Z",
      "side": 1,
      "message": "Ditto.",
      "range": {
        "startLine": 90,
        "startChar": 0,
        "endLine": 93,
        "endChar": 54
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8c0bc0c7_d4fc4fb8",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 93,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2022-06-09T15:15:43Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ad8ff7f0_6ff62174",
      "range": {
        "startLine": 90,
        "startChar": 0,
        "endLine": 93,
        "endChar": 54
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72547672_fd1969ff",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 103,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2022-06-09T14:35:31Z",
      "side": 1,
      "message": "Where is the `odrefresh_metrics_version` member initialized (for non-test cases)?",
      "range": {
        "startLine": 103,
        "startChar": 50,
        "endLine": 103,
        "endChar": 75
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3645a535_cfad7c83",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 103,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2022-06-09T15:15:43Z",
      "side": 1,
      "message": "At the moment it is not explicitly initialised - I will add an assignment for it in OdrMetrics::ToRecord.",
      "parentUuid": "72547672_fd1969ff",
      "range": {
        "startLine": 103,
        "startChar": 50,
        "endLine": 103,
        "endChar": 75
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf531f69_93092976",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 103,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2022-06-09T15:34:10Z",
      "side": 1,
      "message": "I suggest using a constant to encode the current version number, as we do for other version numbers in ART; see e.g.:\n- Art (image) file: https://cs.android.com/android/platform/superproject/+/master:art/runtime/image.cc;l\u003d33;drc\u003d3fa6e46c0f379a35d51e37b9253c1d7369e3158f\n- Oat file: https://cs.android.com/android/platform/superproject/+/master:art/runtime/oat.h;l\u003d36;drc\u003d307fd6dbb589e9dea02457f689c809811472e480\n- Vdex file version: https://cs.android.com/android/platform/superproject/+/master:art/runtime/vdex_file.h;l\u003d127;drc\u003d84caad6a6af9052eb8f4feeaf93b510922d20a08\n- Profile compilation information: https://cs.android.com/android/platform/superproject/+/master:art/libprofile/profile/profile_compilation_info.cc;l\u003d59-60;drc\u003d53258d07c179d8530adcf8c73848e114830c913c\n- Compact Dex \"magic\" version: https://cs.android.com/android/platform/superproject/+/master:art/libdexfile/dex/compact_dex_file.h;l\u003d31;drc\u003d5fb6f63b0827d7991404086b3999f6ba21f50e36\n- Odrefresh compilation log version: https://cs.android.com/android/platform/superproject/+/master:art/odrefresh/odr_compilation_log.h;l\u003d59;drc\u003d5a65d03bebba368639fb4c99041f7ee05741b1b3",
      "parentUuid": "3645a535_cfad7c83",
      "range": {
        "startLine": 103,
        "startChar": 50,
        "endLine": 103,
        "endChar": 75
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b60295e_be8ce904",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2022-06-09T14:35:31Z",
      "side": 1,
      "message": "Ditto.",
      "range": {
        "startLine": 108,
        "startChar": 0,
        "endLine": 116,
        "endChar": 47
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2e45a39_8fe43fa3",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2022-06-09T15:15:43Z",
      "side": 1,
      "message": "Which comment is ditto-ed here? These three metrics are initialised to 0 in odr_metrics.h (https://cs.android.com/android/platform/superproject/+/master:art/odrefresh/odr_metrics.h;l\u003d140-142?q\u003dodr_metrics.h) and unfortunately they don\u0027t fit within the 100-chars limit if I change them to be one line per metric (102 chars for primary_bcp_compilation_seconds, 106 for both secondary_bcp_compilation_seconds and system_server_compilation_seconds).",
      "parentUuid": "0b60295e_be8ce904",
      "range": {
        "startLine": 108,
        "startChar": 0,
        "endLine": 116,
        "endChar": 47
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "953e8cfa_bbeeaf82",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2022-06-09T15:19:50Z",
      "side": 1,
      "message": "Actually, not true: I tried the change within AddMetric (lines 81-86) rather than here - will make the change",
      "parentUuid": "a2e45a39_8fe43fa3",
      "range": {
        "startLine": 108,
        "startChar": 0,
        "endLine": 116,
        "endChar": 47
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9e077daf_23dd9bf0",
        "filename": "odrefresh/odr_metrics_record.cc",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2022-06-09T15:34:10Z",
      "side": 1,
      "message": "Sorry about the confusion: my \"Ditto\" comment refered to this comment for lines 78â€“79:\n\n\u003e Nit: This can fit on a single (100-character) line.",
      "parentUuid": "953e8cfa_bbeeaf82",
      "range": {
        "startLine": 108,
        "startChar": 0,
        "endLine": 116,
        "endChar": 47
      },
      "revId": "e7ff1f9b0fa6ae5324cfa4c1242a97c78cdeb3f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}